import{_ as v,r as p,m as y,b as u,o as V,c as b,d as E,f as l,w as a,j as x,g as C}from"./index-D_pxrGF5.js";const T={class:"sys-setting-panel"},w={__name:"SysSettings",setup(I){const{proxy:o}=x(),m={getSysSettings:"/admin/getSysSettings",saveSettings:"/admin/saveSettings"},t=p({}),d=p(),c={registerEmailTitle:[{required:!0,message:"请输入注册邮箱验证码邮件标题"}],registerEmailContent:[{required:!0,message:"请输入注册邮箱验证码邮件内容"}],userInitTotalSpace:[{required:!0,message:"请输入初始化空间大小"},{validator:o.Verify.space,message:"请输入数字"}]};y(()=>{g()});const g=async()=>{console.log(m.getSysSettings);let s=await o.Request({url:m.getSysSettings});s&&(t.value=s)},f=async()=>{d.value.validate(async s=>{if(!s)return;let e={};Object.assign(e,t.value),await o.Request({url:m.saveSettings,params:e})&&o.Message.success("保存成功")})};return(s,e)=>{const n=u("el-input"),i=u("el-form-item"),_=u("el-button"),S=u("el-form");return V(),b("div",null,[E("div",T,[l(S,{model:t.value,rule:c,ref_key:"formDataRef",ref:d,"label-width":"140px",onSubmit:e[3]||(e[3]=()=>{})},{default:a(()=>[l(i,{label:"注册邮箱验证标题",prop:"registerEmailTitle"},{default:a(()=>[l(n,{clearable:"",placeholder:"请输入注册邮件验证码邮件标题",modelValue:t.value.registerEmailTitle,"onUpdate:modelValue":e[0]||(e[0]=r=>t.value.registerEmailTitle=r),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1}),l(i,{label:"注册邮箱内容",prop:"registerEmailContent"},{default:a(()=>[l(n,{type:"textarea",autosize:{minRows:4},clearable:"",placeholder:"请输入注册邮件验证码邮箱内容",modelValue:t.value.registerEmailContent,"onUpdate:modelValue":e[1]||(e[1]=r=>t.value.registerEmailContent=r),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1}),l(i,{label:"初始空间大小",prop:"useInitUseSpace"},{default:a(()=>[l(n,{clearable:"",placeholder:"初始化空间大小",modelValue:t.value.userInitTotalSpace,"onUpdate:modelValue":e[2]||(e[2]=r=>t.value.userInitTotalSpace=r),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1}),l(i,null,{default:a(()=>[l(_,{type:"primary",onClick:f},{default:a(()=>[C("保存")]),_:1})]),_:1})]),_:1},8,["model"])])])}}},M=v(w,[["__scopeId","data-v-c7ccee66"]]);export{M as default};
